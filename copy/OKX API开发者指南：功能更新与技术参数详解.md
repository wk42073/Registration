```markdown
# OKX API开发者指南：功能更新与技术参数详解

## 最新功能更新（2025年4月）

在OKX API的最新迭代中，我们引入了多项关键功能增强，特别强化了子账户管理体系。开发者现在可以：

👉 [立即体验API子账户管理功能](https://bit.ly/okx_welcome)

### 子账户API核心功能
1. **子账户创建接口**
   - 支持通过API批量创建子账户
   - 需主账户授权管理权限
   - 适用场景：机构投资者多策略账户管理

2. **API密钥生命周期管理**
   - 创建子账户专属API密钥
   - 查询密钥状态及权限
   - 密钥失效机制：支持7天自动轮换

3. **安全控制增强**
   - IP白名单绑定功能
   - 交易权限分级控制
   - 操作日志审计追踪

## 土耳其实体用户提现API调整（2025年3月）

针对土耳其监管要求，OKX更新了数字资产提现接口规范：

### 交易所钱包提现
**必填参数示例：**
```json
{
  "rcvrInfo": {
    "rcvrFirstName": "Binance",
    "rcvrLastName": "N/A",
    "rcvrCountry": "Global",
    "rcvrCountrySubDivision": "Digital Assets",
    "rcvrTownName": "Crypto Valley",
    "rcvrStreetName": "Blockchain Street"
  }
}
```

👉 [获取支持交易所清单](https://bit.ly/okx_welcome)

### 私人钱包提现
**参数规范要点：**
- 个人用户需完整填写：
  - 姓名（中/英）
  - 国家代码（ISO 3166-1）
  - 地址证明文件编号
- 企业用户特殊处理：
  - 公司名称作为姓氏
  - 地址使用注册地信息

## 账户风险管理参数（2025年2月）

新增多维度风险控制参数，支持实时资产价值核算：

| 参数名称                  | 适用场景                     | 计算逻辑示例         |
|---------------------------|------------------------------|----------------------|
| notionalUsdForBorrow      | 现货/多币种保证金            | USD价值 = 数量×价格  |
| notionalUsdForSwap        | 永续合约组合保证金           | 24H均价×持仓量       |
| notionalUsdForFutures     | 交割合约多币种保证金         | 指数价格×保证金率    |
| notionalUsdForOption      | 期权组合保证金               | 波动率加权计算       |

## 交易手续费体系升级（2024年11月）

API接口手续费参数结构发生重大变更：

**手续费参数演进：**
```diff
- 旧版：minFee, maxFee, minFeeForCtAddr...
+ 新版：fee（固定费率）
```

新增接口功能：
- 实时查询子账户手续费率
- 支持机构客户阶梯费率查询

## 风控增强功能（2024年10月）

### 燃烧费计算机制
```json
{
  "burningFeeRate": "0.05", // 5%费率
  "feeCcy": "BTC"           // 计费币种
}
```

### 非交易资产处理
- 自动转换规则：
  - 低于0.001 BTC的资产自动合并
  - 每日03:00 UTC执行转换

## 竞价交易升级（2024年9月）

新增WebSocket实时竞价数据通道：
```javascript
ws.on('callAuctionDetails', (data) => {
  console.log(`最新竞价:${data.price}, 买卖比:${data.ratio}`);
});
```

算法订单新增场景支持：
- 触发订单自动借贷
- 跟踪止损订单保证金管理
- TWAP订单滑点控制

## FAQ

**Q1：如何创建子账户API密钥？**
A：需通过主账户调用`Create an API Key for a sub-account`接口，需验证主账户安全等级

**Q2：土耳其用户提现需要哪些特殊信息？**
A：必须提供完整的收件方地址信息，企业用户需提供营业执照编号

**Q3：手续费参数变更会影响现有系统吗？**
A：旧参数已标记为废弃，建议在2025Q2前完成接口升级

**Q4：燃烧费如何计算？**
A：燃烧费=（提现数量-网络手续费）×燃烧费率

👉 [查看完整API文档](https://bit.ly/okx_welcome)

## 错误代码指南

| 错误代码 | 原因及解决方案                |
|----------|-----------------------------|
| 59515    | 未加入托管白名单 - 联系客服  |
| 59516    | 需先创建Copper托管账户       |
| 59517    | 需先创建Komainu托管账户      |
| 59518    | API禁用创建子账户 - 改用网页 |
| 59519    | 功能冻结中 - 查看冻结原因    |

## 版本更新日志

| 版本日期   | 核心变更                     |
|------------|------------------------------|
| 2025-04-17 | 子账户API管理全面升级        |
| 2025-03-03 | 土耳其用户提现参数强制要求   |
| 2025-02-12 | 风险管理参数实时计算支持     |
| 2024-11-14 | 手续费参数结构优化           |
| 2024-10-10 | 燃烧费机制引入               |
| 2024-09-19 | 竞价交易API增强              |

本文档持续更新中，建议开发者每周同步最新API规范。对于机构客户，我们提供专属的API集成测试环境和定制化培训课程。
```